# [サービス名]積読記録アプリ

## サービス概要

積読記録アプリは、積読本と購入理由を記録することで、ユーザーに積読本を定期的にレコメンドしてくれるサービスです。

## ■ このサービスへの思い・作りたい理由

**本を選ぶことは素晴らしい**

本は、その人の個性や悩み、興味関心を教えてくれる重要な媒体だと思っています。なんとなく選んだつもりでも、その本を選んだ理由があり、本を選ぶという行為自体が、現在の興味関心や悩みを明確にすることを助けます。本を選ぶことは、自分との対話を促す非常に重要な行為です。選んだ本は、あなたの興味関心を深めてくれたり、悩みに寄り添ってくれたり、不安をやわらげ勇気を与えてくれたりするような、運命の一冊です。

**本の購入スピード>>>>読書スピード**

読みたい本は次から次に現れますが、私の読書スピードは非常に遅いです。数カ月に1冊読み切れるかどうかの速さです。そのため、積読がどんどん増えていきます。私の本棚の9割は積読本です。当然、なにを積読しているかはどんどん忘れていき、自分の本棚を眺めて、「面白そうな本がある」と思うこともあります。

**積読本を再発見**

せっかく見つけた運命の一冊を忘れてしまうなんてもったいないです。その上、大量の積読本に気が引けて、気になる本を諦めてしまうことも非常にもったいないと思います。そのため、積読記録アプリで、積読本を記録・通知することで、忘れてしまった積読本を再発見できるようにし、心置きなく積読できるようにしたいと考えています。

## ■ ユーザー層について

決めたユーザー層についてどうしてその層を対象にしたのかそれぞれ理由を教えてください。

・なにを積読しているか忘れるくらい積読する人（10冊以上は積読状態）

→ 理由：最もサービスの価値を感じやすく、継続利用につながりやすいため

・間違えて同じ本を買ってしまう人

→ 理由：明確に課題を感じており、解決のための手段を求めている

・積読がたくさんあり、今すぐ新しい本を読める状態じゃないんだが、つい本屋に行くと本を買ってしまい、積読を増やす人

→ 理由：継続的に積読本を増やし、アプリの利用機会が定期的にあるため

・積読本の購入媒体を忘れてしまう人（紙の本/ Kindle / 楽天Kobo / Apple Books など）

→ 理由：デジタル書籍の普及により、この悩みを持つ人が増加傾向にあるため

・今読んでる本が読み終わってから買おうと思ってたのに、買うの忘れた本もたくさんある

→ 理由：アプリの利用機会及びユーザーを増やすため

## ■サービスの利用イメージ

ユーザーがこのサービスをどのように利用できて、それによってどんな価値を得られるかを簡単に説明してください。

【利用シーン1】本屋で気になる本を見つけた時

→ アプリで積読本として記録されていないかを確認し、心置きなく新しい本を購入できる

【利用シーン2】読む本に迷った時

→ ランダム推薦で過去の自分が選んだ「運命の一冊」と再会できる

【利用シーン3】積読本を読了した時

→ 購入理由を振り返り、過去の自分との対話を楽しめる

【得られる価値】

- 積読への罪悪感から解放される
- どんな本を積読していたかを覚えておかなければならないストレスから解放される
- 自分の興味関心の変遷を客観視できる
- 本選びがより楽しくなる

## ■ ユーザーの獲得について

想定したユーザー層に対してそれぞれどのようにサービスを届けるのか現状考えていることがあれば教えてください。

**SNSでの集客**

- Twitter/X：#積読 #本好き #読書記録 などのハッシュタグで積読投稿をしている人をターゲット

**機能を活用した集客**
• 積読本登録時のTwitter/Xシェア機能

## ■ サービスの差別化ポイント・推しポイント

似たようなサービスが存在する場合、そのサービスとの明確な差別化ポイントとその差別化ポイントのどこが優れているのか教えてください。
独自性の強いサービスの場合、このサービスの推しとなるポイントを教えてください。

- 推しポイント
    - 読んだ本の記録ではなく、読んでいない積読本の記録に特化
    - 積読本の記録・再発見の機会を創出することで、積読本の増加を促す点
- 競合アプリとの比較

| **項目** | **本サービス** | Bokrium | Reads | Readee |
| --- | --- | --- | --- | --- |
| 特徴① | 積読本の購入媒体管理機能 | △ | △ | 〇
（購入書店名の
入力可能） |
| 特徴② | 熟成度表示 | △ | △ | △ |
| 特徴③ | AIによる購入理由推測 | × | × | × |

※Bokrium：https://bokrium.com/
※Reads：https://www.reads.jp/
※Readee：https://readee.rakuten.co.jp/aboutreadee

## ■ 機能候補

現状作ろうと思っている機能、案段階の機能をしっかりと固まっていなくても構わないのでMVPリリース時に作っていたいもの、本リリースまでに作っていたいものをそれぞれ分けて教えてください。

### MVP

- ユーザー登録・ログイン
- 積読本登録（タイトル、購入理由、購入日）
- 積読本詳細・一覧
- ランダム推薦機能
- 読書進捗管理（今度買いたい→積読→完読への状態変更）
- 基本的な検索機能（タイトル・著者名）

### 本リリース

- AIによる購入理由推測（「なぜ買ったのか忘れた本」救済機能として）
- 積読本の購入媒体管理機能
    - 紙の本 / Kindle / 楽天Kobo / Apple Books など購入先を記録
- 熟成度（購入時期からの経過期間をenumを使用したランク分け方式）表示
- 本のバーコード読み取り登録
- 積読本登録時のTwitter/Xシェア機能

## ■ 機能の実装方針予定

一般的なCRUD以外の実装予定の機能についてそれぞれどのようなイメージ(使用するAPIやgemなど)で実装する予定なのか現状考えているもので良いので教えて下さい。

**Google Books API活用**

```
# 本の情報取得
- タイトル検索による書籍情報の自動入力
- 表紙画像の取得と表示
- 著者情報、出版社、概要の取得
```

**通知機能（whenever gem）**

```
- **使用gem**: whenever gem
- **通知頻度**: ユーザー設定可能（週1/隔週/月1）
- **通知内容**: ランダム推薦 + 熟成度通知
- **配信方法**: メール通知（将来的にはLINEプッシュ通知も検討）
```

**読書進捗管理**

```
- booksテーブル: 基本的な状態管理（enum）
- 簡単なメモ機能（simple_memoカラム）
- 状態変更時の日付自動記録
- Bootstrap tabs: 状態別表示

# 特徴的な機能
- ワンクリック状態変更: wish→tsundoku→completedの直感的操作
- 状態別カウント表示: タブに件数を表示してモチベーション向上
- 状態変更履歴: いつ購入して、いつ読了したかの追跡機能
```

**検索機能**

```
1. 検索対象: 書籍タイトル、著者名の部分一致検索
2. 実装方法: JavaScript DOM操作によるクライアントサイド検索
3. UI: 検索ボックス入力でリアルタイム絞り込み
4. 実装時間: 約1時間
5. メリット: サーバー負荷なし、即座に結果表示
```

**AI機能（OpenAI API使用予定）（購入理由推測）**

```
【技術概要】
- **使用API**: OpenAI GPT-3.5-turbo
- **解決課題**: AIのコールドスタート問題を段階的学習で解決
- **学習データ**: ユーザーの過去購入理由 + 事前定義の一般パターン
【実装フェーズ】
Phase 1: シンプルな条件分岐による段階的提案とAPI連携（3時間）
　（1冊目の場合は一般データ、2冊目以降はユーザーの過去購入理由データを学習データとして使用）
Phase 2:  3段階の学習ステージによるハイブリッド型AI推論システム（+5時間）
Phase 3: 学習進捗の可視化とフィードバック機能（+3時間）
【段階的学習システム】
- **1冊目**: 一般データのみ
- **2-3冊目**: 個人データ30% + 一般データ70%
- **4冊目以降**: 個人データ80% + 一般データ20%
【フィードバック機能】 ユーザーの採用/非採用でさらなる学習
```

**購入媒体管理機能**

```
-**実装方針**: PurchaseMediumモデルとの1対多リレーション
-**柔軟性**: enumではなく独立テーブルで新しい媒体に対応
-**ユーザビリティ**: セレクトボックス + カスタム媒体追加機能
-**デフォルトデータ**: Kindle、Kobo、Apple Books等を初期データとして用意
```

**熟成度表示機能**

```
-**実装方針**: enumを使用したランク分け方式
-**ランク設定**: fresh(3ヶ月未満) → maturing(3ヶ月〜1年) → aged(1〜3年) → vintage(3年以上)
-**購入日精度対応**: exact_date / year_month / year_only / unknown の4段階精度で柔軟に管理
-**自動更新**: whenever gemを使用してdaily jobで熟成度を定期更新
-**表示方法**: アイコン付きバッジ表示（📚新鮮、🍷熟成中、🏺熟成済み、💎ヴィンテージ）
```

**本の登録（バーコード読み取り）**

```
# フロントエンド
- JavaScript ライブラリ: QuaggaJS または ZXing-js
	カメラ映像からバーコードを検出・解析
- HTML5 Camera API: navigator.mediaDevices.getUserMedia()
	ユーザーカメラのアクセス許可要求
- レスポンシブ対応でスマホ最適化
	スマホでの使いやすいUI提供
# バックエンド
- Google Books API: ISBNから書籍情報を自動取得
- HTTPクライント: Faraday gem推奨（または Net::HTTP）
	外部APIとの安定した通信
# 実装の流れ
1. カメラ起動ボタンをタップ
2. QuaggaJS でバーコードをリアルタイム読み取り
3. 読み取ったISBNをAjax(リロードしないでサーバーと通信できる)でサーバーに送信
	Ajax：リロードしないでサーバーと通信できる
4. サーバー側でGoogle Books APIを叩いて書籍情報取得
5. 取得した情報を本登録フォームに自動入力
```

### **技術スタック**

| 項目 | 選定理由・詳細 |
| --- | --- |
| **フレームワーク** | Ruby on Rails 7.1.x・CRUD実装の効率化、Gemエコシステムの充実、API連携が容易 |
| **言語** | Ruby 3.2.x・Rails 7.1との互換性、パフォーマンス改善 |
| **データベース** | PostgreSQL・ENUMや日付型など高度な型が扱いやすく、クラウドとの相性良し |
| **認証** | Devise・ユーザー登録・ログイン管理 |
| **API連携** | Google Books API・書籍情報自動取得（タイトル、著者、表紙画像、概要など）OpenAI API（本リリース）・購入理由推測AI機能 |
| **スケジューリング** | Whenever gem・熟成度通知やランダム推薦の定期ジョブ |
| **HTTPクライアント** | Faraday 推奨 / Net::HTTP・外部APIとの安定通信 |
| **フロントエンド** | HTML + CSS + Bootstrap 5 + JavaScript・リアルタイム検索、タブUI、バーコード読み取り（QuaggaJS/Zxing-js） |
| **デプロイ** | Heroku・PostgreSQLとの連携容易、MVP開発向き |
| **画像保存** | なし・バーコード読み取りはブラウザ上でリアルタイム解析、サーバーに画像は保存しない |
| **通知メール** | Action Mailer + SendGrid等・週次通知 |

### 使用予定Gem一覧（主要なもの）

| Gem名 | 用途 |
| --- | --- |
| `rails` | Webアプリフレームワーク |
| `pg` | PostgreSQL接続 |
| `devise` | ユーザー認証 |
| `faraday` | HTTP通信（Google Books APIなど） |
| `whenever` | 定期ジョブスケジューリング（熟成度通知・ランダム推薦） |
| `rspec-rails` | テスト |
| `factory_bot_rails` | テストデータ生成 |
| `bootstrap` | フロントUI |
| `sendgrid-ruby` | Action MailerでSendGrid経由のメール送信（本番用） |
| `dotenv-rails` | 環境変数管理（APIキーや秘密情報管理用） |

### 画面遷移図
Figma:
https://www.figma.com/design/KJrY60xUXE9pHcJPVZMLdV/%E7%94%BB%E9%9D%A2%E9%81%B7%E7%A7%BB%E5%9B%B3_%E5%8D%92%E6%A5%AD%E5%88%B6%E4%BD%9C?node-id=0-1&t=h5CVANTbXgNnKxCg-1

### ER図
[![Image from Gyazo](https://i.gyazo.com/66149931a808426299abe13c7674f813.png)](https://gyazo.com/66149931a808426299abe13c7674f813)
